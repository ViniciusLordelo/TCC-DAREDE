{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState } from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport { Avatar, Title, Caption, Paragraph, Drawer, TouchableOpacity, toucha, Switch } from 'react-native-paper';\nimport { DrawerContentScrollView, DrawerItem } from '@react-navigation/drawer';\nimport Icon from \"@expo/vector-icons/MaterialCommunityIcons\";\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport api from \"../services/api\";\nimport { Button } from \"../components/Button\";\nimport Cadastro from \"./Cadastro\";\nimport jwtDecode from \"jwt-decode\";\nexport default function Login(_ref) {\n  var navigation = _ref.navigation;\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      Email = _useState2[0],\n      setEmail = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      Password = _useState4[0],\n      setPassword = _useState4[1];\n\n  function signIn() {\n    var res, token;\n    return _regeneratorRuntime.async(function signIn$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n\n            if (!(Email.trim() === \"\" || Password.trim() === \"\")) {\n              _context.next = 3;\n              break;\n            }\n\n            return _context.abrupt(\"return\");\n\n          case 3:\n            _context.next = 5;\n            return _regeneratorRuntime.awrap(api.post(\"/login\", {\n              email: Email,\n              password: Password\n            }));\n\n          case 5:\n            res = _context.sent;\n            token = res.data.token;\n            _context.next = 9;\n            return _regeneratorRuntime.awrap(AsyncStorage.setItem(\"tokenGerado\", token));\n\n          case 9:\n            navigation.navigate(\"Navigation\");\n            _context.next = 15;\n            break;\n\n          case 12:\n            _context.prev = 12;\n            _context.t0 = _context[\"catch\"](0);\n            console.warn(_context.t0);\n\n          case 15:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[0, 12]], Promise);\n  }\n\n  function Cadastrar() {\n    return _regeneratorRuntime.async(function Cadastrar$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            try {\n              navigation.navigate(\"Cadastro\");\n            } catch (error) {\n              console.warn(error);\n            }\n\n          case 1:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n\n  return React.createElement(View, {\n    style: styles.login__body\n  }, React.createElement(View, {\n    style: styles.login__main\n  }, React.createElement(Drawer.Section, {\n    style: styles.login__icon\n  }, React.createElement(DrawerItem, {\n    icon: function icon(_ref2) {\n      var color = _ref2.color,\n          size = _ref2.size;\n      return React.createElement(Icon, {\n        name: \"lock\",\n        color: color,\n        size: 100\n      });\n    },\n    label: \"\",\n    onPress: function onPress() {}\n  }), React.createElement(Text, {\n    style: styles.login__text\n  }, \"LOGIN\")), React.createElement(View, {\n    style: styles.formField\n  }, React.createElement(TextInput, {\n    style: styles.formInput,\n    placeholder: \"Email\",\n    onChangeText: function onChangeText(Email) {\n      return setEmail(Email);\n    }\n  })), React.createElement(View, {\n    style: styles.formField\n  }, React.createElement(TextInput, {\n    style: styles.formInput,\n    type: \"password\",\n    placeholder: \"Password\",\n    secureTextEntry: true,\n    onChangeText: function onChangeText(Password) {\n      return setPassword(Password);\n    }\n  })), React.createElement(View, null, React.createElement(Text, {\n    style: styles.msg\n  }, \"Email ou Senha inv\\xE1lido!\"))), React.createElement(View, {\n    style: styles.container1\n  }, React.createElement(Button, {\n    onPress: signIn\n  }, \"Entrar\"), React.createElement(Button, {\n    onPress: Cadastrar\n  }, \"Cadastre-se\")));\n}\nvar styles = StyleSheet.create({\n  login__body: {\n    flex: 1\n  },\n  login__text: {\n    margin: \"auto\",\n    alignItems: \"center\",\n    paddingRight: 64,\n    fontFamily: \"Courier\",\n    fontSize: 30\n  },\n  login__text1: {\n    color: \"#33547D\"\n  },\n  login__logo: {\n    height: 70,\n    resizeMode: \"contain\"\n  },\n  login__main: {\n    padding: 20,\n    paddingLeft: 20,\n    marginTop: 60,\n    marginBottom: \"auto\"\n  },\n  login__input: {\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: 1\n    },\n    shadowOpacity: 0.22,\n    shadowRadius: 2.22,\n    elevation: 3,\n    height: 40,\n    marginBottom: 25\n  },\n  login__img: {\n    height: 119\n  },\n  formField: {\n    marginBottom: 20\n  },\n  formLabel: {\n    fontSize: 18,\n    color: \"#000\",\n    marginBottom: 8\n  },\n  formInput: {\n    backgroundColor: \"\",\n    height: 60,\n    paddingLeft: 20,\n    borderBottomWidth: 2,\n    borderColor: '#000'\n  },\n  login__icon: {\n    alignItems: \"center\",\n    marginLeft: 50\n  },\n  container1: {\n    flexDirection: \"row\"\n  },\n  msg: {\n    fontWeight: \"bold\",\n    color: 'red',\n    fontSize: 20\n  }\n});","map":{"version":3,"sources":["C:/Users/LÃ­der/Desktop/Mobile/04 . Mobile/Funilaria/screens/Login.js"],"names":["React","useState","Avatar","Title","Caption","Paragraph","Drawer","TouchableOpacity","toucha","Switch","DrawerContentScrollView","DrawerItem","Icon","AsyncStorage","api","Button","Cadastro","jwtDecode","Login","navigation","Email","setEmail","Password","setPassword","signIn","trim","post","email","password","res","token","data","setItem","navigate","console","warn","Cadastrar","error","styles","login__body","login__main","login__icon","color","size","login__text","formField","formInput","msg","container1","StyleSheet","create","flex","margin","alignItems","paddingRight","fontFamily","fontSize","login__text1","login__logo","height","resizeMode","padding","paddingLeft","marginTop","marginBottom","login__input","shadowColor","shadowOffset","width","shadowOpacity","shadowRadius","elevation","login__img","formLabel","backgroundColor","borderBottomWidth","borderColor","marginLeft","flexDirection","fontWeight"],"mappings":"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","sourcesContent":["//Packages\r\nimport React , {useState} from \"react\";\r\n\r\nimport {StyleSheet,Text,View,TextInput,} from \"react-native\";\r\n//importando fonte de texto\r\n//importando biblioteca de icons\r\nimport {Avatar,Title,Caption,Paragraph,Drawer,TouchableOpacity,toucha,Switch,} from 'react-native-paper';\r\nimport {DrawerContentScrollView, DrawerItem} from '@react-navigation/drawer';\r\nimport Icon from 'react-native-vector-icons/MaterialCommunityIcons';\r\n//Components\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\n//Services\r\nimport api from \"../services/api\";\r\n\r\n\r\nimport { Button } from \"../components/Button\";\r\nimport Cadastro from \"./Cadastro\";\r\n\r\nimport jwtDecode from \"jwt-decode\";\r\n\r\n//Components\r\n\r\nexport default function Login({navigation}) {\r\n  const [Email, setEmail] = useState('');\r\n  const [Password, setPassword] = useState('');\r\n\r\n  \r\n\r\n  async function signIn() {\r\n    try {\r\n      if (Email.trim() === \"\" || Password.trim() === \"\") {\r\n        return;\r\n      }\r\n\r\n  \r\n      const res = await api.post(\"/login\", {\r\n        email: Email,\r\n        password: Password,\r\n      });\r\n\r\n      const token = res.data.token;\r\n\r\n      await AsyncStorage.setItem(\"tokenGerado\", token);\r\n     \r\n      navigation.navigate(\"Navigation\");\r\n    } catch (error) {\r\n      console.warn(error);\r\n    }\r\n  }\r\n\r\n  async function Cadastrar() {\r\n    try {\r\n      navigation.navigate(\"Cadastro\");\r\n    } catch (error) {\r\n      console.warn(error);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <View style={styles.login__body}>\r\n      <View style={styles.login__main}>\r\n      <Drawer.Section style={styles.login__icon}>\r\n\r\n<DrawerItem icon={({color, size}) => (\r\n<Icon name= \"lock\"color={color} size={100}/>)} label= \"\" onPress={() => {}}\r\n/>\r\n\r\n<Text style={styles.login__text}>LOGIN</Text>\r\n</Drawer.Section>\r\n        <View style={styles.formField}>\r\n\r\n          <TextInput\r\n            style={styles.formInput}\r\n            placeholder=\"Email\"\r\n            onChangeText={(Email) => setEmail(Email)}\r\n          />\r\n        </View>\r\n\r\n        <View style={styles.formField}>\r\n          <TextInput \r\n            style={styles.formInput}\r\n            type='password'\r\n            placeholder=\"Password\"\r\n            secureTextEntry={true}\r\n            onChangeText={(Password) => setPassword(Password)}\r\n          />\r\n        </View>\r\n        <View >\r\n          <Text style={styles.msg}>Email ou Senha invÃ¡lido!</Text>\r\n        </View>\r\n     \r\n\r\n      </View>\r\n      <View style={styles.container1}>\r\n        <Button onPress={signIn}>Entrar</Button>\r\n        <Button onPress={Cadastrar} >Cadastre-se</Button>\r\n        </View>\r\n    </View>\r\n\r\n  );\r\n  \r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  login__body: {\r\n    flex: 1,\r\n  },\r\n\r\n  login__text: {\r\n    margin: \"auto\",\r\n    alignItems: \"center\",\r\n    paddingRight: 64,\r\n    fontFamily: \"Courier\",\r\n    fontSize: 30,\r\n\r\n  },\r\n\r\n  login__text1: {\r\n    color: \"#33547D\",\r\n  },\r\n\r\n  login__logo: {\r\n    height: 70,\r\n    resizeMode: \"contain\",\r\n  },\r\n\r\n  login__main: {\r\n    padding: 20,\r\n    paddingLeft: 20,\r\n    marginTop: 60,\r\n    marginBottom: \"auto\",\r\n  },\r\n  \r\n  login__input: {\r\n    shadowColor: \"#000\",\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 1,\r\n      \r\n      \r\n    },\r\n    shadowOpacity: 0.22,\r\n    shadowRadius: 2.22,\r\n    elevation: 3,\r\n    height: 40,\r\n    marginBottom: 25,\r\n  },\r\n\r\n  login__img: {\r\n    height: 119,\r\n  },\r\n\r\n \r\n  formField: {\r\n    marginBottom: 20,\r\n  },\r\n\r\n  formLabel: {\r\n    fontSize: 18,\r\n    color: \"#000\",\r\n    marginBottom: 8,\r\n  },\r\n\r\n  formInput: {\r\n    backgroundColor: \"\",\r\n    height: 60,\r\n    paddingLeft: 20,\r\n    borderBottomWidth:2,\r\n    borderColor:'#000'\r\n  },\r\n\r\n  login__icon: {\r\n    alignItems: \"center\",\r\n    marginLeft: 50\r\n  },\r\n\r\n  container1: {\r\n   flexDirection: \"row\",\r\n  },\r\n\r\n  msg: {\r\n    fontWeight: \"bold\",\r\n    color: 'red',\r\n    fontSize: 20,\r\n  },\r\n\r\n});"]},"metadata":{},"sourceType":"module"}